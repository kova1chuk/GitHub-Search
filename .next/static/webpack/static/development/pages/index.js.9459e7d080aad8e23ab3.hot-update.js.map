{"version":3,"file":"static/webpack/static/development/pages/index.js.9459e7d080aad8e23ab3.hot-update.js","sources":["webpack:///./pages/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport searchReposActions from \"store/repoSearch/actions\";\nimport { Header, Pagination } from \"components\";\nimport { SearchResult } from \"containers\";\n\nfunction HomePage({ total_count, repos, fetchSearch }) {\n  const [curPage, setCurPage] = useState(1);\n  const [curRequest, setCurRequest] = useState(\"\");\n  const onSearch = (request: string) => {\n    setCurRequest(request);\n    fetchSearch({\n      q: request,\n      sort: \"stars\",\n      order: \"desc\",\n      per_page: 30,\n      page: curPage,\n    });\n  };\n  const onPaginationClick = (value) => {\n    if (value === \"Prev\") {\n      if (curPage !== 1) setCurPage(curPage - 1);\n    } else if (value === \"Next\") {\n      if (curPage !== Math.floor(total_count / 30)) setCurPage(curPage + 1);\n    } else if (curPage.toString !== value) {\n      setCurPage(Number(value));\n    }\n  };\n  useEffect(() => {\n    fetchSearch({\n      q: curRequest,\n      sort: \"stars\",\n      order: \"desc\",\n      per_page: 30,\n      page: curPage,\n    });\n  }, [curPage]);\n  return (\n    <>\n      <Header onSearch={onSearch} />\n      {repos && (\n        <>\n          <SearchResult total_count={total_count} repos={repos} />{\" \"}\n          <Pagination\n            count={Math.floor(total_count / 30)}\n            current={curPage}\n            onClick={onPaginationClick}\n          />\n        </>\n      )}\n    </>\n  );\n}\n\nconst mapStateToProps = ({ repoSearchReducer }) => ({\n  total_count: repoSearchReducer.total_count,\n  repos: repoSearchReducer.repos,\n});\nconst mapDispatchToProps = { fetchSearch: searchReposActions.fetchSearch };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AAGA;AAAA;AAAA;AAEA;;;;A","sourceRoot":""}