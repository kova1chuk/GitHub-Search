{"ast":null,"code":"var _jsxFileName = \"/home/oleksii/Documents/Programming/BetterMeTest/pages/index.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport searchReposActions from \"store/repoSearch/actions\";\nimport { Header } from \"components\";\nimport { SearchResult } from \"containers\";\n\nfunction HomePage({\n  total_count,\n  repos,\n  fetchSearch\n}) {\n  const {\n    0: curPage,\n    1: setCurPage\n  } = useState(1);\n  const {\n    0: curRequest,\n    1: setCurRequest\n  } = useState(\"\");\n\n  const onSearch = request => {\n    setCurRequest(request);\n    fetchSearch({\n      q: request,\n      sort: \"stars\",\n      order: \"desc\",\n      per_page: 30,\n      page: curPage\n    });\n  };\n\n  const onPaginationClick = value => {\n    if (value === \"Prev\") {\n      if (curPage !== 1) setCurPage(curPage - 1);\n    } else if (value === \"Next\") {\n      if (curPage !== Math.floor(total_count / 30)) setCurPage(curPage + 1);\n    } else if (curPage.toString !== value) {\n      setCurPage(Number(value));\n    }\n  };\n\n  useEffect(() => {\n    fetchSearch({\n      q: curRequest,\n      sort: \"stars\",\n      order: \"desc\",\n      per_page: 30,\n      page: curPage\n    });\n  }, [curPage]);\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    onSearch: onSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), repos && __jsx(SearchResult, {\n    total_count: total_count,\n    repos: repos,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }));\n}\n\nconst mapStateToProps = ({\n  repoSearchReducer\n}) => ({\n  total_count: repoSearchReducer.total_count,\n  repos: repoSearchReducer.repos\n});\n\nconst mapDispatchToProps = {\n  fetchSearch: searchReposActions.fetchSearch\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);","map":{"version":3,"sources":["/home/oleksii/Documents/Programming/BetterMeTest/pages/index.tsx"],"names":["React","useState","useEffect","connect","searchReposActions","Header","SearchResult","HomePage","total_count","repos","fetchSearch","curPage","setCurPage","curRequest","setCurRequest","onSearch","request","q","sort","order","per_page","page","onPaginationClick","value","Math","floor","toString","Number","mapStateToProps","repoSearchReducer","mapDispatchToProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,SAASC,OAAT,QAAwB,aAAxB;AAEA,OAAOC,kBAAP,MAA+B,0BAA/B;AACA,SAASC,MAAT,QAAmC,YAAnC;AACA,SAASC,YAAT,QAA6B,YAA7B;;AAEA,SAASC,QAAT,CAAkB;AAAEC,EAAAA,WAAF;AAAeC,EAAAA,KAAf;AAAsBC,EAAAA;AAAtB,CAAlB,EAAuD;AACrD,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBX,QAAQ,CAAC,CAAD,CAAtC;AACA,QAAM;AAAA,OAACY,UAAD;AAAA,OAAaC;AAAb,MAA8Bb,QAAQ,CAAC,EAAD,CAA5C;;AACA,QAAMc,QAAQ,GAAIC,OAAD,IAAqB;AACpCF,IAAAA,aAAa,CAACE,OAAD,CAAb;AACAN,IAAAA,WAAW,CAAC;AACVO,MAAAA,CAAC,EAAED,OADO;AAEVE,MAAAA,IAAI,EAAE,OAFI;AAGVC,MAAAA,KAAK,EAAE,MAHG;AAIVC,MAAAA,QAAQ,EAAE,EAJA;AAKVC,MAAAA,IAAI,EAAEV;AALI,KAAD,CAAX;AAOD,GATD;;AAUA,QAAMW,iBAAiB,GAAIC,KAAD,IAAW;AACnC,QAAIA,KAAK,KAAK,MAAd,EAAsB;AACpB,UAAIZ,OAAO,KAAK,CAAhB,EAAmBC,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV;AACpB,KAFD,MAEO,IAAIY,KAAK,KAAK,MAAd,EAAsB;AAC3B,UAAIZ,OAAO,KAAKa,IAAI,CAACC,KAAL,CAAWjB,WAAW,GAAG,EAAzB,CAAhB,EAA8CI,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV;AAC/C,KAFM,MAEA,IAAIA,OAAO,CAACe,QAAR,KAAqBH,KAAzB,EAAgC;AACrCX,MAAAA,UAAU,CAACe,MAAM,CAACJ,KAAD,CAAP,CAAV;AACD;AACF,GARD;;AASArB,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,WAAW,CAAC;AACVO,MAAAA,CAAC,EAAEJ,UADO;AAEVK,MAAAA,IAAI,EAAE,OAFI;AAGVC,MAAAA,KAAK,EAAE,MAHG;AAIVC,MAAAA,QAAQ,EAAE,EAJA;AAKVC,MAAAA,IAAI,EAAEV;AALI,KAAD,CAAX;AAOD,GARQ,EAQN,CAACA,OAAD,CARM,CAAT;AASA,SACE,4BACE,MAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEI,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGN,KAAK,IAAI,MAAC,YAAD;AAAc,IAAA,WAAW,EAAED,WAA3B;AAAwC,IAAA,KAAK,EAAEC,KAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFZ,CADF;AAMD;;AAED,MAAMmB,eAAe,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,MAA4B;AAClDrB,EAAAA,WAAW,EAAEqB,iBAAiB,CAACrB,WADmB;AAElDC,EAAAA,KAAK,EAAEoB,iBAAiB,CAACpB;AAFyB,CAA5B,CAAxB;;AAIA,MAAMqB,kBAAkB,GAAG;AAAEpB,EAAAA,WAAW,EAAEN,kBAAkB,CAACM;AAAlC,CAA3B;AAEA,eAAeP,OAAO,CAACyB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CvB,QAA7C,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport searchReposActions from \"store/repoSearch/actions\";\nimport { Header, Pagination } from \"components\";\nimport { SearchResult } from \"containers\";\n\nfunction HomePage({ total_count, repos, fetchSearch }) {\n  const [curPage, setCurPage] = useState(1);\n  const [curRequest, setCurRequest] = useState(\"\");\n  const onSearch = (request: string) => {\n    setCurRequest(request);\n    fetchSearch({\n      q: request,\n      sort: \"stars\",\n      order: \"desc\",\n      per_page: 30,\n      page: curPage,\n    });\n  };\n  const onPaginationClick = (value) => {\n    if (value === \"Prev\") {\n      if (curPage !== 1) setCurPage(curPage - 1);\n    } else if (value === \"Next\") {\n      if (curPage !== Math.floor(total_count / 30)) setCurPage(curPage + 1);\n    } else if (curPage.toString !== value) {\n      setCurPage(Number(value));\n    }\n  };\n  useEffect(() => {\n    fetchSearch({\n      q: curRequest,\n      sort: \"stars\",\n      order: \"desc\",\n      per_page: 30,\n      page: curPage,\n    });\n  }, [curPage]);\n  return (\n    <>\n      <Header onSearch={onSearch} />\n      {repos && <SearchResult total_count={total_count} repos={repos} />}\n    </>\n  );\n}\n\nconst mapStateToProps = ({ repoSearchReducer }) => ({\n  total_count: repoSearchReducer.total_count,\n  repos: repoSearchReducer.repos,\n});\nconst mapDispatchToProps = { fetchSearch: searchReposActions.fetchSearch };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePage);\n"]},"metadata":{},"sourceType":"module"}